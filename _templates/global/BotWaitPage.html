<!-- _templates/global/BotWaitPage.html -->
{% extends "otree/WaitPage.html" %}

{% block title %}{{ title_text }}{% endblock %}

{% block content %}
    <div style="text-align: center;">
        <p>{{ body_text }}</p>
        
        <!-- Meta refresh tag for automatic page refresh -->
        <meta http-equiv="refresh" content="5">
        
        <!-- Special hidden elements for bot detection -->
        <div style="display: none;">
            <input type="hidden" id="is_wait_page" value="true">
            <button id="hidden-next-button" class="otree-btn-next">Continue</button>
        </div>
        
        <!-- Timer display for humans -->
        <p>Waiting time: <span id="wait-time">0:00</span></p>
        
        <script>
            // Show waiting time for humans
            let waitTime = 0;
            const waitTimer = setInterval(function() {
                waitTime++;
                const minutes = Math.floor(waitTime / 60);
                const seconds = waitTime % 60;
                document.getElementById('wait-time').textContent = 
                    `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
            }, 1000);
        </script>
    </div>
{% endblock %}